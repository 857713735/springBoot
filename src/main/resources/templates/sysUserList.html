<!DOCTYPE html>
<!-- saved from url=(0052)http://getbootstrap.com/docs/4.0/examples/dashboard/ -->
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>XXXX系统</title>
    <!--    系统Log-->
<!--    CSS-->
    <link href="#" th:href="@{/img/title.ico}" type="image/x-icon" rel="icon">
    <!--<link href="" th:href="@{/webjars/bootstrap/4.4.1-1/css/bootstrap.min.css}" rel="stylesheet">
    <link href="" th:href="@{/webjars/bootstrap-table/1.15.5/bootstrap-table.min.css}" rel="stylesheet">-->
    <link href="#" th:href="@{/css/bootstrap/bootstrap.min.css}" rel="stylesheet">
    <link href="#" th:href="@{/css/bootstrap/bootstrap-table.css}" rel="stylesheet">

    <link href="#" th:href="@{/css/dashboard.css}" rel="stylesheet">





    <!--    JS-->
   <!-- <script type="text/javascript" src="" th:src="@{/webjars/jquery/3.5.0/jquery.js}"></script>

    <script type="text/javascript" src="" th:src="@{/webjars/bootstrap/4.4.1-1/js/bootstrap.min.js}"></script>
    <script type="text/javascript" src="" th:src="@{/webjars/bootstrap-table/1.15.5/bootstrap-table.min.js}"></script>
    <script type="text/javascript" src="" th:src="@{/webjars/bootstrap-table/1.15.5/locale/bootstrap-table-zh-CN.min.js}"></script>-->
    <script type="text/javascript" src="" th:src="@{/js/bootstrap/jquery.min.js}"></script>
    <script type="text/javascript" src="" th:src="@{/js/bootstrap/bootstrap.min.js}"></script>
    <script type="text/javascript" src="" th:src="@{/js/bootstrap/bootstrap-table.js}"></script>
    <!--汉化文件，放在 bootstrap-table.js 后面-->
    <script type="text/javascript" src="" th:src="@{/js/bootstrap/bootstrap-table-zh-CN.js}"></script>


    <script type="text/javascript" src="" th:src="@{/js/commonFun.js}"></script>
    <style type="text/css">
        /* Chart.js */

        @-webkit-keyframes chartjs-render-animation {
            from {
                opacity: 0.99
            }
            to {
                opacity: 1
            }
        }

        @keyframes chartjs-render-animation {
            from {
                opacity: 0.99
            }
            to {
                opacity: 1
            }
        }

        .chartjs-render-monitor {
            -webkit-animation: chartjs-render-animation 0.001s;
            animation: chartjs-render-animation 0.001s;
        }
    </style>
</head>

<body>
<!--引入抽取的页面-->
<div th:replace="common/commonHtml::topbar"></div>

<div class="container-fluid">
    <div class="row">
        <!--引入左侧边-->
        <div th:replace="common/commonHtml::#sidebar(activeUri='sysUserList')"></div>

        <main role="main" class="col-md-9 ml-sm-auto col-lg-10 pt-3 px-4">
            <div class="page-content">
                <div class="classDepart clx" id="J_list">
                    <ul class="clx"  id="screen1">
                    </ul>
                </div><!--classDepart end-->
                <div class="row">
                    <div class="table-responsive">
                        <table id="dataTable" class="table table-striped table-bordered table-hover">
                        </table>
                    </div>
                </div>
            </div><!-- /.page-content -->
        </main>

    </div>
</div>
</body>

</html>
<script>
    loadData();
    function loadData(){
        // 加载表格数据
        $('#dataTable').bootstrapTable('destroy').bootstrapTable({
            url: '/queryUserList.do',
            //请求后台的URL（*）
            method: 'get',
            cache: false,
            height: 500,
            striped: true,
            sidePagination: 'server',// client or server
            queryParams: function(params) {
                params["page"] = params["pageNumber"];
                params["size"] = params["pageSize"];
                return params;
            },
            queryParamsType: '',
            pagination: true,
            pageSize: 10,
            pageNumber: 1,
            pageList: [1, 2, 50, 100, 200, 500],
            search: false,
            clickToSelect: false,
            sortName:'loginName',
            search: true,
            showColumns: true,
            showRefresh: true,
            formatSearch: function(){
                return '姓名';
            },
            columns: [//{checkbox: true,align: 'center'},
                {field:"loginName",title:"账号",align:"center",valign:"middle",sortable:"true"},
                {field:"userName",title:"姓名",align:"center",valign:"middle",sortable:"true"},
                {field:"email",title:"邮箱",align:"center",valign:"middle",sortable:"true"},
                {field:"phonenumber",title:"电话",align:"center",valign:"middle",sortable:"true"},
                {field:"SEX",title:"性别",align:"center",valign:"middle",sortable:"true"},
                {field:"loginIp",title:"登录Ip",align:"center",valign:"middle",sortable:"true"},
                {field:"loginDate",title:"最后登录时间",align:"center",valign:"middle",sortable:"true",formatter: function(value, row, index) {
                        return commonJs.formatDate(value , 'yyyy/MM/dd');
                }},
                {field:"RWZJ",title:"操作",align:"center",valign:"middle",sortable:"true",formatter: function (value, row, index) {
                        return "<button class='btn btn-info btn-xs'  onclick='operation("+JSON.stringify(row)+")'>任务审核</button>";
                        //<a class="green" onclick="operation(\''+value+'\')" href="#" data-toggle="tooltip" data-placement="right" title="分配任务"> <i class="icon-pencil bigger-150"> </i> </a>

                }}
            ],
            formatNoMatches: function() {
                return '无符合条件的记录';
            },
            onLoadSuccess: function(data){
                console.log(data);
            }
        });
    }
    function loadlb(page,size){
        $.ajax({
            url:"/queryUserList.do",//地址
            dataType:'json',//数据类型
            data:{page:page,size:size},
            type:'GET',//类型
            timeout:2000,//超时
            //请求成功
            success:function(data,status){
                //alert(data);
                //alert(status);
            },
            //失败/超时
            error:function(XMLHttpRequest,textStatus,errorThrown){
                if(textStatus==='timeout'){
                    alert('請求超時');
                    setTimeout(function(){
                        alert('重新请求');
                    },2000);
                }
                //alert(errorThrown);
            }
        })
    }
</script>